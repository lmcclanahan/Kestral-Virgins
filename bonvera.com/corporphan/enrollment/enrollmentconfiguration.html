
<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="lt-ie9"> <![endif]-->
<!--[if IE 9]>         <html lang="en" class="ie9"> <![endif]-->
<html lang="en">

<!-- Mirrored from bonvera.com/corporphan/enrollment/enrollmentconfiguration by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 07 Feb 2017 21:22:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <meta name="mobileoptimized" content="0" />
    <meta name="published" content="1/30/2017 9:33:55 PM" />

    <title>Create your Independent Associate Account - Bonvera</title>

    <link rel="app" id="apppath" href="../../index.html" />
    <link rel="app" id="appauthenticated" href="../../error/notfound507e.html" />
    <link rel="app" id="appsessiontimeout" href="../../error/notfound1a11.html" />

    <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="../../apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="../../apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="../../apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="../../apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="../../apple-touch-icon-144x144.png" />

    
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'>
    <link href="../../../maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../../../maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../../../cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.2/toastr.min.css" rel="stylesheet" />
    <link href="../../Content/styles/site.min.css" rel="stylesheet" />
      

    
    <script src="../../routejs.axd/a983a8725e6f0c1b778961bf0b072c28a8ac5bf4/router.min.js"></script>
    <script src="../../app/culture.js"></script>
    <script src="../../resourcejs.axd/ba525b3d749b7740bcc6f3a392ac7a988cef0618"></script>

    <!-- RequireJS -->
    <script src="../../../cdnjs.cloudflare.com/ajax/libs/require.js/2.1.20/require.min.js" data-main="/Content/scripts/main.js"></script>
    <script>
        require.config({
            baseUrl: '/Content/scripts',
            paths: {
                'addresses': 'modules/addresses',
                'app': 'modules/app',
                'ajax': 'modules/ajax',
                'browser': 'modules/browser',
                'calendars': 'modules/calendars',
                'console': 'modules/console',
                'containers': 'modules/containers',
                'cookies': 'modules/cookies',
                'debug': 'modules/debug',
                'encryptions': 'modules/encryptions',
                'extensions': 'modules/extensions',
                'forms': 'modules/forms',
                'guids': 'modules/guids',
                'kendogrids': 'modules/kendogrids',
                'kendo': 'vendor/kendo/scripts/kendo.web.min',
                'kendo-cultures': 'vendor/kendo/scripts/kendo.culture.min',
                'passwords': 'modules/passwords',
                'popups': 'modules/popups',
                'pubsub': 'modules/pubsub',
                'urls': 'modules/urls',
                'widgets': 'modules/widgets',

                'enquire': 'http://cdnjs.cloudflare.com/ajax/libs/enquire.js/2.1.2/enquire.min',
                'bootstrap': 'http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min',
                'bootstrap-hover-dropdown': 'vendor/bootstrap-hover-dropdown.min',
                'handlebars': '/bundles/scripts/handlebars?v=fQ5vB4gdxk_P9wwHZ_ebqD7w4zKoZIFCUP0gcmQzR-w1',
                'jquery': 'http://code.jquery.com/jquery-1.11.3.min',
                'jquery-validate': 'vendor/jquery.validate.min',
                'jquery-validate-unobtrusive': 'vendor/jquery.validate.unobtrusive.min',
                'jquery-unobtrusive-ajax': 'vendor/jquery.unobtrusive-ajax',
                'moment': 'http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment-with-locales.min',
                'toastr': 'http://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.2/toastr.min'
            },
            shim: {
                'bootstrap': {
                    deps: ["jquery", "bootstrap-hover-dropdown"]
                },
                'jquery-validate-unobtrusive': {
                    deps: ['jquery-validate']
                },
                'jquery-unobtrusive-ajax': {
                    deps: ['jquery']
                },
                'handlebars': {
                    exports: 'Handlebars'
                }
            },
            deps: ["bootstrap", "extensions", "forms"]
        });
    </script>

        <script>
            require(["jquery"], function ($) {
                $(function () {
                    if (window.location.protocol == "enrollmentconfiguration.html") {
                        var restOfUrl = window.location.href.substr(6);
                        window.location = "http:" + restOfUrl;
                    }
                });
            });
        </script>


    
    <script src="../../Content/scripts/vendor/jquery.extended.js"></script>

    <!--[if lt IE 9]>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
      

</head>
<body style="overflow-x: hidden;">

    <header class="hidden-print">
        <!-- Logo Header -->
        <div class="mainheader">
            <div class="container">
                <div class="row">
                        <div class="col-sm-5">
                            <!-- Logo -->

                            <a href="../../index.html" class="hidden-xs">
                                <img src="../../Content/images/logo_with_gradient.png" class="logo img-responsive" />
                            </a>
                        </div>

                    <div class="col-sm-7">
                        <!-- Mobile Logo -->
                        <div id="mobile-logo-container">
                            <img class="img-responsive visible-xs pull-left" src="../../Content/images/logo.png" />
                        </div>

                            <div id="account-cart-container">
                                <div class="row">
                                    <div class="col-sm-6 col-xs-12">

                                        <!-- Account -->
                                        <div class="space-5"></div>
                                    </div>
                                    <div class="col-sm-6 col-xs-12">
                                    </div>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>



        <!-- Main Navigation -->
        <nav class="navbar navbar-default main-nav" role="navigation">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>

                <div class="container">
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <!-- Site Links -->
                            <ul class="nav navbar-nav">

                                <!-- Dropdown Links -->
                                    <!-- Non-Dropdown Links -->
                                        <li>
                                            <a href="../../index.html" data-navigation="home">
                                                Home
                                            </a>
                                        </li>
                                        <li class="dropdown dropdown-hover">
                                            <a class="dropdown-toggle" data-navigation="shopping" data-toggle="dropdown">Shop <b class="caret"></b></a>
                                            <ul class="dropdown-menu col-2">
                                                        <li class="">
                                                            <a href="../shopping/ourproducts.html" target="_self">
                                                                Products
                                                            </a>
                                                        </li>
                                                        <li class="">
                                                            <a href="../partnerstores.html" target="_self">
                                                                Partner Stores
                                                            </a>
                                                        </li>
                                                        <li class="">
                                                            <a href="../affiliatestores.html" target="_self">
                                                                Affiliate Stores
                                                            </a>
                                                        </li>
                                                        <li class="">
                                                            <a href="../cart.html" target="_self">
                                                                My Cart
                                                            </a>
                                                        </li>
                                            </ul>
                                        </li>
                                        <li class="dropdown dropdown-hover">
                                            <a class="dropdown-toggle" data-navigation="about" data-toggle="dropdown">About <b class="caret"></b></a>
                                            <ul class="dropdown-menu col-2">
                                                        <li class="">
                                                            <a href="../home/companyoverview.html" target="_self">
                                                                Company Overview
                                                            </a>
                                                        </li>
                                                        <li class="">
                                                            <a href="../home/ourmission.html" target="_self">
                                                                Our Mission
                                                            </a>
                                                        </li>
                                                        <li class="">
                                                            <a href="../../Content/documents/Bonvera_Overview_Revised_Final_07_05_16.pdf" target="_blank">
                                                                Compensation Plan Overview
                                                            </a>
                                                        </li>
                                                        <li class="">
                                                            <a href="../home/faq.html" target="_self">
                                                                FAQ
                                                            </a>
                                                        </li>
                                            </ul>
                                        </li>
                                    <!-- Non-Dropdown Links -->
                                        <li>
                                            <a href="../login.html" data-navigation="login">
                                                Sign in
                                            </a>
                                        </li>
                                    <!-- Non-Dropdown Links -->
                                        <li class="visible-xs">
                                            <a href="../login.html" data-navigation="">
                                                Sign out
                                            </a>
                                        </li>
                            </ul>
                        <!-- Social Media Icons -->
                        <div id="social-media-container" class="hidden-xs">
                            <ul class="list-unstyled list-inline">
                                <li>
                                    <a href="https://www.facebook.com/BonveraUS" target="_blank" class="id-social"><span class="fa-facebook" title="Facebook"></span></a>
                                </li>
                                <li>
                                    <a href="https://twitter.com/bonvera_US" target="_blank" class="id-social"><span class="fa-twitter" title="Twitter"></span></a>
                                </li>
                                <li>
                                    <a href="https://www.instagram.com/bonvera_US/" target="_blank" class="id-social"><span class="fa-instagram" title="Instagram"></span></a>
                                </li>
                                
                            </ul>
                            <div class="clearfix"></div>
                        </div>

                    </div>
                </div>
            </div>
        </nav>
    </header>



    


<main class="container" id="site-content">
    

<div id="view-enrollment-configuration">
    <div class="container">
        <h2>Create your Independent Associate Account</h2>

        <div class="space-20 hidden-xs"></div>


<form action="http://bonvera.com/corporphan/enrollment/enrollmentconfiguration" method="post">            <input type="hidden" id="enrollment-type" name="SelectedEnrollmentType" />
            <input type="hidden" id="market-country-code" name="MarketName" />
<input data-val="true" data-val-number="The field EnrollerID must be a number." data-val-required="The EnrollerID field is required." id="EnrollerID" name="EnrollerID" type="hidden" value="5" /><input data-val="true" data-val-number="The field SponsorID must be a number." data-val-required="The SponsorID field is required." id="SponsorID" name="SponsorID" type="hidden" value="5" />            <!-- Choose Enroller -->
                <div class="space-10"></div>
<div id="enroller-validate-container">
    <div class="space-20"></div>
    <div id="enrollment-validation">
        <h3>Choose the Enroller and Placement Sponsor</h3>
        <p>(You can use username or Bonvera id# to validate)</p>
        <div class="space-20 hidden-xs"></div>
        <div class="search-container">
            <label for="enroller-textbox" class="text-lg">Enroller</label>
            <input class="input-sm form-control validation-textbox" id="enroller-textbox" type='text' data-validatefor="enroller" placeholder="username or id" />
            <div id="enroller-validate-result"></div>
        </div>


        <div class="space-20"></div>
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Enroller Details</h3>
            </div>
            <div class="panel-body">
                <div id="enroller-details-container">
                </div>
            </div>
        </div>
        <hr />
        <div class="search-container">
            <label for="sponsor-textbox" class="text-lg">Placement Sponsor</label>
            <input class="input-sm form-control validation-textbox" id="sponsor-textbox" type='text' value="" data-validatefor="sponsor" placeholder="username or id" />
            <div id="sponsor-validate-result"></div>
        </div>

        <div class="space-20"></div>

        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Sponsor Details</h3>
            </div>
            <div class="panel-body">
                <div id="sponsor-details-container">
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    require(["pubsub", "ajax", "enquire", "toastr"], function (pubsub, ajax, enquire, toastr) {

        var validatedButtons = {
            sponsor: false,
            enroller: false
        };

        var customerIDs = {
            sponsor: 0,
            enroller: 0
        };

        var isValidating = false;

        var actions = {
            enrollerValidate: function (validateFor) {

                var isEnroller = (validateFor == "enroller") ? true : false;
                var $dataSelector = (isEnroller) ? $("#enroller-textbox") : $("#sponsor-textbox");
                var data = $dataSelector.val();
                var isEnroller = (validateFor == "enroller") ? true : false;

                if (!isEnroller && customerIDs.enroller <= 0) {
                    $("#sponsor-validate-result").html('<em class="text-danger"><b>Error: You must validate an enroller before validating a sponsor</b></em>');
                }
                else {
                    var $dataSelector = (isEnroller) ? $("#enroller-textbox") : $("#sponsor-textbox");
                    var data = $dataSelector.val();
                    if (!isValidating) {
                        isValidating = true;
                        ajax.json({
                            url: "/app/verifyenrollersponsor",
                            data: { input: data, isEnroller: isEnroller, EnrollerID: customerIDs.enroller },
                            success: function (response) {

                                if (response.valid) {

                                    if (!isEnroller) {
                                        validatedButtons.sponsor = true;
                                        customerIDs.sponsor = response.customerid;
                                        $("#sponsor-details-container").html(response.html);
                                        $("#sponsor-validate-result").html(response.successhtml);
                                        $(".validatesponsor").button("reset");
                                        $("[name='SponsorID']").val(response.customerid);
                                        isValidating = false;
                                    }
                                    else {
                                        validatedButtons.enroller = true;
                                        $("#enroller-validate-result").html(response.successhtml);
                                        customerIDs.enroller = response.customerid;
                                        $("#enroller-details-container").html(response.html);
                                        $(".validateenroller").button("reset");
                                        $("[name='EnrollerID']").val(response.customerid);
                                        isValidating = false;

                                    }
                                }
                                else {

                                    if (!isEnroller) {
                                        $("#sponsor-validate-result").html(response.html);

                                        $("#sponsor-details-container").html("");
                                        isValidating = false;

                                    }
                                    else {
                                        $("#enroller-validate-result").html(response.html);

                                        $("#enroller-details-container").html("");
                                        isValidating = false;



                                    }
                                }
                            },
                            error: function (xhr, error, data) {
                                console.log("server error", xhr.responseText);
                                isValidating = false;

                            }
                        });
                    }
                }
            }
        };

        $(".validation-textbox").on("change ,  drop", function () {
            var textbox = $(this);

            if (textbox.data('validatefor') == "sponsor") {
                validatedButtons.sponsor = false;
            }
            else {
                validatedButtons.enroller = false;
            }
        });
        $(".validation-textbox").on("focusout", function () {
            var textbox = $(this);
            if (textbox.data('validatefor') == "sponsor") {
                validatedButtons.sponsor = false;
                if (customerIDs.enroller > 0) {

                    actions.enrollerValidate(textbox.data('validatefor'), customerIDs.enroller);
                }
                else {
                    $("#sponsor-validate-result").html('<em class="text-danger"><b>Error: You must validate an enroller before validating a sponsor</b></em>');
                }
            }
            else {
                validatedButtons.enroller = false;
                actions.enrollerValidate(textbox.data('validatefor'));
            }
        });
        $(function () {
            var keyStop = {
                13: "input:text, input:password", // stop enter = submit

                end: null
            };
            $("#enroller-validate-container").bind("keydown", function (event) {
                var selector = keyStop[event.which];

                if (selector !== undefined && $(event.target).is(selector)) {
                    event.preventDefault(); //stop event
                    actions.enrollerValidate($(event.target).data('validatefor'));
                }
                return true;
            });
        });
    })();
</script>
            <button type="submit" class="btn btn-lg btn-info pull-right" data-type="Distributor">Join Now</button>
            <div class="space-50"></div>
        <!-- Choose Market -->
        <!-- Find Enroller Modal -->
        <div class="modal fade" id="distributorSearchModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title">Find Your Referrer</h4>
                    </div>
                    <div class="modal-body">
                        <div class="associate-search">

    <h4><strong>Please enter your Enroller's ID or username to validate their account.</strong></h4>

    <div class="row margin-0">
        <div class="col-md-6">
            <div class="input-group">
                <input type="text" class="form-control" id="search-field" />
                <a class="input-group-addon btn btn-primary" data-role="search"><span class="fa-search"></span></a>
            </div>
        </div>
    </div>

    <div id="search-results-container" style="display: none;">
        <div class="space-20"></div>

        <h5>Search Results</h5>


        <div id="search-results" style="overflow-y: auto; max-height: 400px;"></div>
        <script id="search-results-template" data-target="#search-results" type="text/x-handlebars-template">
            {{#each enrollers}}
            <div class="row margin-10">
                <div class="col-sm-3">
                    <img src="{{AvatarURL}}" class="img-responsive" />
                </div>
                <div class="col-sm-9 results-info">
                    <span><span class="name">{{FullName}}</span>, ID# <span class="id">{{CustomerID}}</span></span><br />
                    <span>{{MainCity}}, {{MainState}}</span><br />
                    <a href="{{ReplicatedSiteUrl}}" data-url="{{ReplicatedSiteUrl}}">{{ReplicatedSiteUrl}}</a>
                    <div class="space-10"></div>
                    <a data-role="use-distributor" class="btn btn-primary">Choose</a>
                </div>              
            </div>
            <div class="space-10"></div>
            {{/each}}
        </script>


    </div>

    <input type="hidden" id="enrollerID" name="EnrollerID" value="5" />
</div>


<script>
    require(["jquery", "ajax", "toastr", "handlebars", "pubsub"], function ($, ajax, toastr, Handlebars) {

        // Settings
        var context = ".associate-search",
            $context = $(context);


        // Event Handlers
        function registerEventHandlers() {
            $('#search-field').on("keypress", function (e) {
                if (e.which == 13) {
                    e.preventDefault();
                    $('[data-role="search"]').click();
                }
            });

            $('[data-role="search"]', $context).on('click', function () {
                var query = $('#search-field', $context).val();

                if (query != "") {
                    actions.search(query);
                }
                else {
                    $('#search-field', $context).focus();
                }
            });

            $('#search-results', $context).on("click", '[data-role="use-distributor"]', function () {
                var $activeRow = $(this).parents('.row:first'),
                    id = $('.id', $activeRow).html(),
                    name = $('.name', $activeRow).html(),
                    url = $("[data-url]", $activeRow).data("url");

                enroller = {
                    CustomerID: id,
                    FullName: name,
                    Url: url
                }

                $('#enrollerID').val(parseInt(enroller.CustomerID));

                window.trigger("enrollment.showenrollerinfo", enroller);               
            });
        }


        // Actions
        var actions = {           
            search: function (query) {
                ajax.json({
                    url: "/corporphan/enrollment/getdistributors",
                    data: { query: query },
                    success: function (response) {
                        if (response.success) {

                            if (response.enrollers.length == 0) {
                                toastr.error("This search returned no results.", "We're sorry");
                                $("#search-field").val("");
                                return;
                            }

                            console.log(response);

                            var source = $("#search-results-template").html();
                            var template = Handlebars.compile(source);
                            var html = template(response);
                            $("#search-results").html(html);

                            $("#search-results-container").show();
                        }
                        else {
                            console.log("message", response.message);
                            toastr.error("This search returned no results.", "We're sorry");
                        }
                    }
                });
            }
        };


        // Helpers
        var helpers = {

        };


        // Initialization
        function init() {
            registerEventHandlers();

        }
        init();

    });
</script>

<style>
    .results-info { padding-left: 30px; }
</style>
                    </div>
                </div>
            </div>
        </div>
<input name="__RequestVerificationToken" type="hidden" value="HxlWPZCJMEEbd0KrzWXfMHtZtonnjjDjzu_74QdJBds8Tv2bz_uoUgmzsn_ALfaL2_leAT_XUWgRjmG88T3L9gwAW9k1" /></form>    </div>
</div>


</main>


    <!-- Site Footer -->
    <footer class="hidden-print">
        <div id="upper-footer">
            <div class="container">
                <div class="row-24">
                    <div class="col-sm-6 col-sm-offset-3 text-center">
                        <p id="footer-logo-wrapper">
                            <img class="img-responsive" src="../../Content/images/footer-logo.png" />
                        </p>
                        <p>1815 E. Central</p>
                        <p>Wichita, KS 67214</p>
                        <p>United States</p>
                    </div>
                        <div class="col-sm-6 text-center">
                            <h3>Contact Us</h3>
                            <p id="message-us-wrapper">
                                <a id="message-us" class="btn btn-white">Message Us</a>
                            </p>
                            <div class="space-20"></div>
                            <div id="footer-social-container">
                                <ul class="list-unstyled list-inline">
                                    <li>
                                        <a href="https://www.facebook.com/BonveraUS" target="_blank" class="id-social"><span class="fa-facebook-square" title="Facebook"></span></a>
                                    </li>
                                    <li>
                                        <a href="https://twitter.com/bonvera_US" target="_blank" class="id-social"><span class="fa-twitter-square" title="Twitter"></span></a>
                                    </li>
                                    <li>
                                        <a href="https://www.instagram.com/bonvera_US/" target="_blank" class="id-social"><span class="fa-instagram" title="Instagram"></span></a>
                                    </li>
                                    
                                </ul>
                            </div>
                        </div>
                        <div class="col-sm-8 col-sm-offset-1 hidden-xs">
                            <h3>Quick Links</h3>
                            <p><a href="../shopping/ourproducts.html">Bonvera Products</a></p>
                                <p><a href="../choose-registration.html">Join Bonvera</a></p>
                            <p><a href="../partnerstores.html">Partner Stores</a></p>
                            <p><a href="http://blog.bonvera.com/" target="_blank">Corporate Blog</a></p>  
                        </div>
                </div>

            </div>
        </div>
        <div id="lower-footer">
            <div class="container">
                <div class="row">
                    <div class="col-sm-8">
                        <p id="copyright-wrapper">
                            &#169; Bonvera 2017, All Rights Reserved
                        </p>
                    </div>
                    <div class="col-sm-4">
                        <p id="privacy-policy-wrapper">
                            <a href="../home/privacypolicy.html">Bonvera Privacy Policy</a>
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </footer>



    
    <div class="modal fade" id="language" tabindex="-1" role="dialog" aria-labelledby="language" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Select your country and language</h4>
                </div>
                <div class="modal-body">
                    <p>Select your country</p>
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="control-group">
                                <label class="control-label" for="Country">Choose Country</label>
                                <div class="controls">

                                    <select name="Country" id="CountrySelector" class="span12 form-control">
                                            <option value="US" selected=&#39;selected&#39;>United States</option>
                                    </select>
                                </div>
                                <!-- /controls -->
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="control-group">

                                <label class="control-label" for="Country">Choose your Language</label>
                                <div class="controls">
                                    <select name="Language" class="span12 form-control">
                                            <option value="en-US" selected="">English</option>
                                    </select>
                                </div>
                                <!-- /controls -->
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <a class="btn btn-primary" id="languageSubmit">Submit</a>
                        </div>
                    </div>
                    <div class="space-30"></div>
                </div>
            </div>
        </div>
    </div>

    
    <div id="addtocart-modalcontainer">
        <div class="modal fade" id="view-item" tabindex="-1" role="dialog" aria-labelledby="quickShopLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="myModalLabel"><div class="space-20"></div></h4>

                    </div>
                    <div class="modal-body">
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <div id="message-us-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">Message Us</h4>
                </div>
                <div class="modal-body">
                    <form id="message-us-form">
                        <label>Your email:</label>
                        <input type="text" name="fromEmail" class="form-control" placeholder="Email" />

                        <div class="space-30"></div>

                        <label>Subject:</label>
                        <input type="text" name="subject" class="form-control" placeholder="Subject" />

                        <div class="space-30"></div>

                        <label>Enter your message:</label>
                        <textarea name="body" class="form-control"></textarea>
                        <div class="space-20"></div>

                        <button type="button" data-dismiss="modal" class="btn pull-right">Close</button>
                        <button id="submit-message" type="button" class="btn btn-info pull-right" style="margin-right: 10px;">Submit</button>
                        <div class="clearfix"></div>
                    </form>
                </div>
            </div>
        </div>
    </div>



    
    


<script>
    require(["jquery", "cookies", "ajax", "toastr", "app", "pubsub", "bootstrap", "extensions"], function ($, cookies, ajax, toastr) {

        // Settings
        var languageExpiration   = '2/7/2018',
            languageCookieName   = 'BonveraSelectedLanguage',
            countryCookieName    = 'BonveraSelectedCountry',
            additemUrl           = "/corporphan/AddItemToCart",
            quickshopUrl         = "/corporphan/shopping/quickshopmodal",
            getcartpreviewUrl    = "/corporphan/shopping/fetchcartpreview",
            messageUsURL    = "/app/messageus",
            getautoordermodalUrl = "/corporphan/shopping/getautoordermodal",
            orderItemType        = "Order",
            autoOrderItemType = "AutoOrder",
            userIsEnrolling      = true,
            defaultCountry       = "US",
            defaultLanguage      = "en-US";

        var resources = {
            order: "Order",
            autoorder: "Replenish",
            itemAddedText: "{0} has been added to your {1}!",
            autoOrderItemAddedText: "{0} has been added to your Replenish! Click on the cart icon to finish setting up your replenish profile."
        };

        var state = {
            modalActive: false
        };


        // Event Handlers
        function registerEventHandlers() {

            // Set defaults for toastr
            toastr.options.timeOut = 10000;

            // message us modal
            $('#message-us').on("click", function () {
                $('#message-us-modal').modal();
            });

            // message us submit
            $('#submit-message').on("click", function () {
                var form = $('#message-us-form').serializeObject(),
                    email = form.fromEmail,
                    subject = form.subject,
                    body = form.body,
                    emailNotEmpty = (/\S/.test(email)),
                    subjectNotEmpty = (/\S/.test(subject)),
                    bodyNotEmpty = (/\S/.test(body));

                // ensure the form is filled out completely before submitting
                if(emailNotEmpty == false || subjectNotEmpty == false || bodyNotEmpty == false)
                {
                    toastr.error("Please ensure all fields are filled out before submitting");
                    return;
                }

                ajax.json({
                    url: messageUsURL,
                    data: {
                        fromemail: email,
                        subject: subject,
                        body: body
                    },
                    success: function (response) {
                        if (response.success) {
                            $('#message-us-modal').modal("hide");
                            toastr.success("Your message has been sent!");
                        }
                        else
                        {
                            toastr.error(response.message);
                        }
                    }
                });
            });


            // language selection
            $('[data-language]').on("click", function () {

                cookies.set('BonveraSelectedLanguage', $(this).data("language"), {
                    expires: new Date('2/7/2018'),
                    path: '/'
                });

                window.location = window.location;
            });

            // Enable click of Shopping Cart link in shopping cart preview (found in header)
            $("[data-shoppinglink]").on("click", function () {
                window.location = $(this).prop("href");
            });

            // Cart Preview logic
            window.on("update.cartpreview", function () {
                // Prevent updating main navigation cart during enrollment
                if (!userIsEnrolling) {
                    actions.getCartPreview();
                }
            });
            window.on("render.cartpreview", function (cart, total) {
                // Prevent updating main navigation cart during enrollment
                if (!userIsEnrolling) {
                    // Old Version - Mike M.
                    //actions.getCartPreview(cart, total);
                    actions.getCartPreview(total);
                }
            });



            // Auto Order Modal Logic
            window.on("cart.showautoordermodal", function (html) {

                // If we are passing in the cart html already, we do not need to get it from the server
                if (html != null && html.length > 0) {
                    $("#addtocart-modalcontainer .modal-body").html("");
                    $("#addtocart-modalcontainer .modal-body").html(html);
                    $("#addtocart-modalcontainer .modal").modal("show");
                } else {
                    actions.getAutoOrderModal();
                }
            });

            // Auto Order Modal Logic for Auto Order Manager
            window.on("autoordermanager.showautoordermodal", function (autoshipID) {
                actions.getAutoOrderModal(autoshipID);
            });

            
            $("body").on("click", "a[data-role='item.addtoorder']", function () {
                var $this = $(this),
                item = $this.parents(".item-fields").serializeObject();
                item.Type = $this.data("type");

                // Trigger the loading button
                $this.button('Adding');

                actions.addToCart(item);
            });
            $("body").on("click", "[data-quick-shop]", function () {

                if (state.modalActive == false) {
                    state.modalActive = true;

                    var itemcode = $(this).data("quick-shop");

                    ajax.json({
                        url: quickshopUrl,
                        data: { itemcode: itemcode },
                        success: function (response) {
                            if (response.success) {
                                $("#addtocart-modalcontainer .modal-body").html("");
                                $("#addtocart-modalcontainer .modal-body").html(response.html);
                                $("#addtocart-modalcontainer .modal").modal();
                            } else {
                                console.log("error fetching quick shop modal", response.message);
                            }
                        },
                        complete: function () {
                            $("#addtocart-modalcontainer .modal").on("hide.bs.modal", function () {
                                state.modalActive = false;
                            });
                        }
                    });
                }
            });


            // Language selection
            $("#language").on('hidden.bs.modal', function () {
                if (cookies.get(languageCookieName) == null) {
                    actions.setLanguageCookie()
                }
            });
            $("#language").on('shown.bs.modal', function () {
                if (cookies.get(languageCookieName) !== null) {
                    actions.setModalLanguageValues()
                }
            });
            $("#languageSubmit").on('click', function () {
                actions.setLanguageCookie();
                $("#language").modal('hide');
            });

            $('[data-action="toggleMenu"]').on("click", function (e) {
                $(".sub-menu").toggle(400);
            });

            $("body").on("keyup, change", "[name$='Quantity']", function (e) {
                var $this = $(this),
                    allowZero = $(this).hasClass("allow-zero"),
                    quantity = $this.val();


                if (quantity.indexOf(".") >= 0) {
                    $this.val(quantity.replace(".", ""));
                    return;
                }

                if (quantity < 1 && !allowZero) {
                    $this.val("1");
                    return;
                }
                if (quantity < 0 && allowZero) {
                    $this.val("0");
                    return;
                }
            });
        }



        // Actions
        var actions = {
            addToCart: function(item) {

                ajax.json({
                    url: additemUrl,
                    data: {
                        item: item
                    },
                    success: function (response) {
                        if (response.success) {
                            var itemType = (item.Type == orderItemType) ? resources.order : resources.autoorder;

                            // Need a custom message for auto order items
                            if (item.Type == autoOrderItemType) {
                                toastr.success(resources.autoOrderItemAddedText.format(item.description));
                            } else {
                                toastr.success(resources.itemAddedText.format(item.description, itemType));

                            }

                            // Logic for First Order Pack shopping
                            if (response.isFirstOrderPack) {
                                $(".first-order-pack-container").hide();
                                $(".first-order-pack-added-message").show();
                                $(".modal").modal("hide");
                            }

                            // Prevent updating main navigation cart during enrollment
                            if (!userIsEnrolling) {
                                actions.getCartPreview();
                            }

                            // Trigger the auto order modal if applicable
                            if (response.carttype == "autoorder") {
                                window.trigger("cart.showautoordermodal", response.html);
                            }
                        }
                    },
                    error: function (xhr) {
                        console.log("Add to cart failed", xhr);
                    },
                    complete: function () {
                        $("[data-role='item.addtoorder'][data-type='{0}'][data-itemcode='{1}']".format(item.Type, item.ItemCode)).button('reset');

                    }
                });
            },
            getAutoOrderModal: function(autoshipID) {

                ajax.json({
                    url: getautoordermodalUrl,
                    data: { autoshipID: autoshipID },
                    success: function (response) {
                        if (response.success) {
                            $("#addtocart-modalcontainer .modal-body").html("");
                            $("#addtocart-modalcontainer .modal-body").html(response.html);
                            $("#addtocart-modalcontainer .modal").modal();
                        } else {
                            console.log("showautoordermodal failed: ", response);
                        }
                    },
                    error: function (xhr, error, status) {
                        console.log("showautoordermodal failed: ", xhr);
                    }
                });
            },
            getCartPreview: function (total) {
                var $myCart = $("#my-cart");

                if(total != undefined) {
                    $("#my-cart").html(total);
                } else {

                    // Make sure we even need to update the cart total first before running anything
                    if ($myCart.length > 0) {
                        ajax.json({
                            url: "/corporphan/shopping/getcartitemquantity",
                            success: function (response) {
                                if (response.success) {
                                    $("#my-cart").html(response.count);
                                } else {
                                    console.log("error fetching quick shop modal", response.message);
                                }
                            }
                        });
                    } else {
                    }
                }
            },
            // Old Version not being used - Mike M.
            //getCartPreview: function (cart, total) {
            //    var $priceField = $("#cart-total span"),
            //        $cartContainer = $("#cart-list"),
            //        $mobileQtyBadge = $("#my-cart");


            //    if (cart === undefined) {
            //        $.ajax({
            //            url: getcartpreviewUrl,
            //            cache: false,
            //            success: function (response) {
            //                if (response.success) {
            //                    $mobileQtyBadge.html("{0}".format(response.quantity));
            //                    $priceField.html(response.total);
            //                    $cartContainer.html(response.cart);
            //                } else {
            //                    console.log("getcartpreview failed", response);
            //                }
            //            }, error: function (xhr, status, error) {
            //                console.log(xhr);
            //            }
            //        });
            //    } else {
            //        $cartContainer.html(cart);
            //        $priceField.html(total);
            //    }
            //},
            setLanguageCookie: function (language, market) {
                var lang = (language || $('[name="Language"]').val());
                var country = (market || $('[name="Country"]').val());
                var options = {};
                options.expires = new Date(languageExpiration);
                options.path = "../../index.html";
                options.domain = false;
                options.secure = false;

                cookies.set(countryCookieName, country, options);
                cookies.set(languageCookieName, lang, options);

                window.location = window.location;
            },
            setModalLanguageValues: function () {
                var lang = cookies.get(languageCookieName);
                var country = cookies.get(countryCookieName);
                $('[name="Language"]').val(lang);
                $('[name="Country"]').val(country);
            },
            updateItemQuantity: function (item) {
                var $this = $(item),
                    quantity = $this.val(),
                    $parentContainer = $this.parents("[data-itemcode]").first(),
                    itemcode = $parentContainer.data("itemcode"),
                    priceEach = $this.data("price-each"),
                    $priceDisplayContainer = $parentContainer.find("[data-price-display]");

                if (quantity < 0) {
                    $this.val("0");
                    return;
                }

                // Set the price display of the items updated
                var price = priceEach * quantity;
                $priceDisplayContainer.html("$" + price.toFixed(2));
            },
            setActiveNavigation: function () {
                var hasActiveNavigationField = ($('.activenavigation').length > 0);

                if (hasActiveNavigationField) {
                    var activeNavigation = $('.activenavigation').val(),
                        $navigationLink = $('a[data-navigation="' + activeNavigation + '"]');

                    //$('.nav>li>a').removeClass('active');
                    $navigationLink.addClass('active');
                }
                else {
                    return;
                }
            }
        };


        // Initialization
        function init() {
            registerEventHandlers();

            actions.getCartPreview();
            actions.setActiveNavigation();


            if (cookies.get(languageCookieName) == null) {
                // $("#language").modal('show');
                actions.setLanguageCookie();
            }
        }

        init();
    });
</script>

    <!-- Page Scripts -->
     
    <script>
        require(["jquery", "forms", "toastr", "bootstrap", "extensions", "pubsub"], function ($, forms, toastr) {
            var message = "";


            // Event Handlers
            function registerEventHandlers() {
                // Handle placement issues
                if (message != "") {
                    toastr.error(message);
                }

                $('#enroller-search').on('click', function () {
                    $('#distributorSearchModal').modal();
                });

                $('[data-role="Country"]').on('click', function () {
                    $('#market-country-code').val($('[data-role="Country"]').val());
                });

                $('[data-role="corporatesignup"]').on('click', function () {
                    window.trigger("enrollment.showenrollerinfo", "corporate");
                });

                // Pubsub events
                window.on('enrollment.showenrollerinfo', function (enroller) {
                    var message = "";

                    if (enroller == "corporate") {
                        message = "You have chosen to enroll without a distributor.";
                    }
                    else {
                        message = "You have selected {0}, ID# {1} as your enroller.".format(enroller.FullName, enroller.CustomerID);
                    }

                    $('#distributorSearchModal').modal('hide');
                    $('#search-message .message').html(message);
                    $('#search-message').show();
                });
            }

            // Initialization
            function init() {
                registerEventHandlers();


                $('#market-country-code').val($('[data-role="Country"]').val());
            }

            init();
        });
    </script>
 
    

    <input name="__RequestVerificationToken" type="hidden" value="y-aFfLAia2lRvnRm5ru0Yf5xa5tN5CBN8gx4JLJ-TZuAfiI3P6FqOouUkkVy1DeB093Q9nCzP6HgeC7EqDmfMrFA8gU1" />

</body>




<!-- Mirrored from bonvera.com/corporphan/enrollment/enrollmentconfiguration by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 07 Feb 2017 21:22:38 GMT -->
</html>